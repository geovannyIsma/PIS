{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Bootstrap Sidebar{% endblock %}</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.slim.js" integrity="sha256-UgvvN8vBkgO0luPSUl2s8TIlOSYRoGFAX4jlCIm9Adc=" crossorigin="anonymous"></script>

    <!-- LineIcons -->
    <link href="https://cdn.lineicons.com/4.0/lineicons.css" rel="stylesheet"/>

    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <link rel="stylesheet" href="{% static 'css/estilos_base.css' %}">

    {% block extra_css %}
    {% endblock %}
</head>
<body>
    <div class="d-flex">
        <!-- Sidebar -->
        <aside id="sidebar" class="sidebar-toggle">
            <div class="sidebar-logo">
                <a href="#">TrackGuard</a>
            </div>
            <!-- Sidebar Navigation -->
            <ul class="sidebar-nav p-0">

                {% if user.is_authenticated %}
                    {% if user.is_registered %}
                        <li class="sidebar-item">
                            <a href="{% url 'home' %}" class="sidebar-link">
                                <i class="lni lni-home"></i>
                                <span>Inicio</span>
                            </a>
                        </li>

                        <li class="sidebar-header">Modelo matemático</li>
                        <li class="sidebar-item">
                            <a href="{% url 'modelo_matematico' %}" class="sidebar-link">
                                <i class="lni lni-popup"></i>
                                <span>Modelo matemático</span>
                            </a>
                        </li>
                    {% endif %}

                    {% if user.is_admin %}

                        <li class="sidebar-item">
                            <a href="{% url 'home' %}" class="sidebar-link">
                                <i class="lni lni-home"></i>
                                <span>Inicio</span>
                            </a>
                        </li>

                        <li class="sidebar-header">Administración</li>

                        <li class="sidebar-item">
                            <a href="{% url 'administracion_malla' %}" class="sidebar-link">
                                <i class="lni lni-agenda"></i>
                                <span>Gestión de mallas curriculares</span>
                            </a>
                        </li>

                        <li class="sidebar-item">
                            <a href="{% url 'administracion_periodo' %}" class="sidebar-link">
                                <i class="lni lni-agenda"></i>
                                <span>Gestión periodo académicos</span>
                            </a>
                        </li>

                        <li class="sidebar-item">
                            <a href="{% url 'administracion_usuario' %}" class="sidebar-link">
                                <i class="lni lni-users"></i>
                                <span>Administración de Usuarios</span>
                            </a>
                        </li>

                    {% endif %}
                {% else %}
                    <!-- Content for unauthenticated users -->
                    <li class="sidebar-item">
                        <a href="{% url 'home' %}" class="sidebar-link">
                            <i class="lni lni-home"></i>
                            <span>Inicio</span>
                        </a>
                    </li>

                    <li class="sidebar-header">Modelo matemático</li>
                    <li class="sidebar-item">
                        <a href="{% url 'modelo_matematico' %}" class="sidebar-link">
                            <i class="lni lni-popup"></i>
                            <span>Modelo matemático</span>
                        </a>
                    </li>
                {% endif %}
            </ul>
            <!-- Sidebar Navigation Ends -->
            <div class="sidebar-footer">
                {% if user.is_authenticated %}
                   <a href="{% url 'signout' %}" class="sidebar-link">
                        <i class="lni lni-exit"></i>
                        <span>Salir</span>
                   </a>
                {% else %}
                    <a href="{% url 'index' %}" class="sidebar-link">
                        <i class="lni lni-exit"></i>
                        <span>Salir</span>
                    </a>
                {% endif %}
            </div>
        </aside>
        <!-- Sidebar Ends -->
        <!-- Main Component -->
        <div class="main p-3">
            <nav class="navbar navbar-expand">
                <button class="toggler-btn" type="button">
                    <i class="lni lni-text-align-left"></i>
                </button>
            </nav>
             <div class="container-fluid">
                    {% block content %}

                    {% endblock %}
                </div>
        </div>
    </div>
    <script src="{% static 'js/base_script.js' %}"></script>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <!-- popperjs  -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>

    {% block extra_js %}
    {% endblock %}
</body>
</html>